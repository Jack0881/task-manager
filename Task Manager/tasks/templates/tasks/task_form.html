<!-- task_form.html -->
{% extends 'base.html' %}

{% block content %}
<h1>
    {% if view.object %}
        Edit Task: {{ view.object.title }}
    {% else %}
        New Task
    {% endif %}
</h1>

<form method="POST">
    {% csrf_token %}
    <table class="table">
        <tbody>
            <tr>
                <td>{{ form.title.label }}</td>
                <td>{{ form.title }}</td>
            </tr>
            <tr>
                <td>{{ form.description.label }}</td>
                <td>{{ form.description }}</td>
            </tr>
            <tr>
                <td>{{ form.due_date.label }}</td>
                <td>{{ form.due_date }}</td>
            </tr>
            <tr>
                <td>{{ form.category.label }}</td>
                <td>{{ form.category }}</td>
            </tr>
            <tr>
                <td>{{ form.completed.label }}</td>
                <td>{{ form.completed }}</td>
            </tr>
        </tbody>
    </table>
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<script>
    $(document).ready(function() {
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true,
            todayHighlight: true
        });
    });
</script>
{% endblock %}
